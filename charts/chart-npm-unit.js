import Chart from 'chart.js/auto'
import {
  labels,
  getStarsDiffByMonths
} from '../js/chart-helper.js'

const data = {
  labels: labels,
  datasets: [
    {
      label: 'Vitest',
      data: [787491, 1203632, 1385778, 1563486, 1572158, 1714562, 1912991, 2083846, 2288165, 2721143, 1959183, 2985587, 2279572, 3723280, 3972476],
      borderColor: 'rgb(252, 199, 43)',
    },
    {
      label: 'Jest',
      data: [52918172, 71682642, 72749681, 78200609, 68105439, 69000389, 71111534, 73647567, 72701703, 73717180, 51073971, 74233845, 51478486, 73319555, 75256126],
      borderColor: 'rgb(24, 223, 22)',
    },
    {
      label: 'Mocha',
      data: [6085099, 8012159, 7960426, 7801272, 6945648, 6671322, 7084253, 7320331, 7265668, 7589795, 5288419, 7351246, 6129757, 7445411, 4478906],
      borderColor: 'rgb(141, 103, 72)',
    },
    {
      label: 'Ava',
      data: [28782, 310222, 316729, 326716, 297447, 313127, 308857, 343252, 276381, 285115, 206765, 264318, 216105, 311814, 304193],
      borderColor: 'rgb(108, 132, 172)',
    },
    {
      label: 'SinonJS',
      data: [4061721, 6599372, 5808861, 6459455, 5807088, 5785627, 6127458, 6280305, 7569370, 6569690, 5277501, 7351246, 4976196, 5861068, 6592635],
      borderColor: 'rgb(75, 53, 42)',
    },
    {
      label: 'Jasmine',
      data: [3485796, 4485989, 4542514, 4508656, 3865312, 4054347, 4274535, 4132015, 4161041, 4254811, 2960946, 4070033, 3051725, 4418929, 4522594],
      borderColor: 'rgb(138, 65, 130)',
    },
    {
      label: 'Chai',
      data: [5202105, 1839763, 6980179, 7186212, 6766276, 6797875, 7313683, 7678679, 7890665, 8577250, 5975090, 8895555, 6483315, 9469644, 9811322],
      borderColor: 'rgb(164, 8, 2)',
    },
  ]
}
const chartId = document.getElementById('npm-stats-unit')

new Chart(chartId, {
  type: 'line',
  data: getStarsDiffByMonths(data),
})
